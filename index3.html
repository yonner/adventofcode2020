<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Advent 3</title>
    <script>

        var treema1 = ['..##.......','#...#...#..','.#....#..#.','..#.#...#.#','.#...##..#.','..#.##.....','.#.#.#....#','.#........#','#.##...#...','#...##....#','.#..#...#.#'];

        var treemap = ['.#..........#...#...#..#.......','.###...#.#.##..###..#...#...#..','#.....#................#...#.#.','#.....#..###.............#....#','......#.....#....#...##.....###','....#........#.#......##....#.#','..#.......##..#.#.#............','#.............#..#...#.#...#...','.#...........#.#....#..##......','......#..##..#....#....#...##..','....#.##.#####..#.##..........#','..#.#......#.#.#....#.....#....','...###.##......#..#.#...#...#..','...#..#.#..#..#.......#........','...#....#..#...........#.#.....','....#.........###.#....#...#...','....#..##.....#.##....##.#.....','........#.#.#.....#........#...','..#..#.....#.#...#.#...#.#.....','....#..........#....#....#...##','.##...#..#...##....#..#.#....#.','.#....##..#...#................','..#.###.........#.###.....#....','....#..#.......###.#...........','#...#...#.#...........#.#......','.#..#.......##.....##...#......','....####.#..#.#.#...........#..','.##...#..#..#.#....##.....#..##','...#......##....#...#.#.###....','##.#...........#.........#...#.','...........#...#...........##..','.....#....#...........#........','...#..#.........#...#....#.##..','.....##.........#...#........##','....#....#..#.#...#...##.#.....','...#.#..#...#...........#..#...','.....#.#.....#....#...#....#...','.#.............#..##..........#','..........#......#..##.....###.','..#....#........#.#.....##...#.','#..#......#.#.##......#.#.##...','.....#..#.........#...#.#.#.#.#','#.#...#.......#.#..##.##.....##','.....#......##......#.......#..','#.....#...##.#.#........#......','#..........#.#...#.......#.....','..#..#........#........#.......','...#....#....#..####.#....#...#','#.............#.....##....#..#.','##....#.....###..##....#......#','#.....#...#.#.............#....','.#.#..##..##.#..#....#.#.#...#.','.#...#..#.....#..#.#.#..#...##.','..#.#.#.#.#.#....##...#........','.......##.....#..........#...#.','...#..#...#...........#....#...','.....#..#....#..#.##...#.......','..##..#.......#.#..#....#......','...#...............#.#..#......','....#........#...#....#...#.#..','...#...#..........##....##.#...','..###.#.##.............#..#.#.#','##.......##.#..#.#.#.....#.#.#.','..#####...#......##...#........','...#.##...#................#..#','..#......#...#....#.#..##..#...','#.#.........#............#.....','##.............#.#.....#......#','....#.......#..#..##....#.#....','...#...##....#.........#..#....','...####.....#...........#....#.','#.#........##....#..#..#...#...','....#.#.###..........#........#','#.#......#.....#.##....#.#...#.','#....##.#..##..#.#.............','.#.....##..#..................#','...#.#........#...#.#........#.','..#....#......#.....##........#','....#...#....#...#.....#.##....','...#........#.......##.........','.#.##......#......#....##......','.#...#...###.#............#..#.','.#...........#.#.#....#...#..#.','.#.....#....#.....#...#........','.#..#.....#............#.#.##.#','...###.#.............#..##.....','...#.#.##.#..#..........#..#...','.#.#.#....#..#...............##','.......#.#..#...#.#.#........#.','....#.#...#..##....#........#.#','..........#...#.......#..#....#','...###.....#.#....#.....##.....','#......#..#..#........#.#...#..','#......#....#..#.#.............','...#....#........#...#..#......','...#..###........#.#.........##','#......#.#..###..#........###..','.#.#......#.#..#.#.#.#.....#..#','#....#.....#..##.....#.........','....#......#...#..#..#.#.##.#..','........#.#...#...#..#...#.#..#','.....##........#...#....#...#..','....#...##..#........#....##.#.','...............#.....#......##.','..##.....#.....#.#.............','.....#.#...........##.#.....#..','.#..##..#.##.#...##.#....#....#','.##.....#.##......#....#..#..#.','.......#.##......#....#...#.#..','.#........#......#...##.#....#.','.........#..........#.......###','#.#.........#..#..#....#...#...','.......#.........#......#.#.#..','.......#...........#....#....#.','.###...##.#.#..........#...#..#','....#.....#...#..#.............','.......##........#..#.......#..','....##..#.#....#....#..#...#..#','..#.####.....#.........#.#....#','..............#.#..#.....#...#.','.....#.............#..........#','..##.#...#.....#....#.#....##..','.#...#.......#..####..#..#...#.','#..........#................##.','......##.....#.................','..##...#.#..........##.#...#...','....#.#.#.#...##...#...#...####','.............##..#.###...#.....','#.#....#.#..#..##........#..##.','.....#.#...............#.......','...#..##......#..##...........#','#..#....#...........##..#......','.##....#.#....###.......#..#...','.....#..#.#....##...#......#...','.#.........#####......#...#...#','.......#.#.....#.....#.......#.','#....#.......###.......#..#....','#......##.###...#.......#......','.......#...#......#....#..#....','.#.####.......#...#.##.........','................##.#......#....','......##....#.#......#......#..','....##...##....#.........#.....','......#.#..............##.#...#','....#.#......#.#.............#.','.#.#..####...#................#','....#.#.#.#......##...##......#','.....#.#..#......#....#......#.','..........#.#.....#.......#...#','..##......##.#...##.#......#..#','...#............#..#...###.....','.#.#..###..#.......##...#.....#','.#....#.#.......#.....##....#..','#.............###...##.#.#...#.','#........#.#........#.#...#.#.#','##..#.................#....#...','...#.#...#..#.#..##....#...#...','#.....#.......#..............#.','.......###...##..#.....#.......','#.#.........#..#.#.........#...','.#.#............#.....##.....#.','........#....#....#.......#....','...#.#....#..#.##....#.#......#','.#.....#.#..#...........#.#.#..','#......#..#......##.#.#.#.#..#.','.......#.#..#......#.#.#..#.#.#','..........#...#..........#.##..','.#.#..####.......#..........#..','......#.#.....#..#..#..#.....#.','.....##..#.#.#..#..#...#.....##','............#.#....#.#....#....','..............#..#...#...#.....','.....#......#.......#.....#....','..##....#..#...........#..##...','###...#.##..#.#...####....###..','..#.#.....#.........#....#..###','##...........##.............#..','....##..............#.........#','...#...##....#.#..#...##.....#.','..#..##...#.......#..#..#.....#','...#...#....####........##.#...','....#........#..#.#.........#..','.#..........#...#..#.#.#......#','....#.#.....#.........#....#...','...#....#...##.......#...#.....','....#..#.......#.##.##.##...#..','##....##........#........##....','.#.#..#...........#.....#...#..','...#.##...##..#...#...##.......','.....#..###................#.#.','...#........##.#....##.....#.##','...#...#..##...#...#.#...#.....','.#......#...#..#.##.......#...#','.....#.......###.##...#........','#.....#..#........##.##.#.##..#','....#..............##.##...#...','#..........#..................#','..##.......#..........#..#..##.','.#....###.#..#.........###....#','.#....#.##..............#.##.##','.#.##.#....#.......#.#......#..','.#............#.#.....#........','..#......#.......#.............','#.#...#........##...#.#......#.','....#.........#........##..#...','..........##.....#.#......#....','.##.#..#....#.......#...#...##.','.#................#...#.##.....','....###.......#..#..#.........#','.#.....#..##...###......#.....#','.#.##..........#..#..#........#','.......#.##..............#...##','#...#.#.#.......#..#......#.##.','.#....#.#......#...#..........#','.....#........##....#.##.....#.','.#....................#..#.#.#.','.....#.........#....#.......#.#','.....#.#..##..#.....#..#.......','...#..#..#...#.....#....#....#.','#.....#.#.#..........#..#.#.#..','.....##..##.....#.#..#.........','#.#..##....##......##...#.##..#','..##..#.....#..#..........##...','......#.#...#..#.......##.....#','..#.#.......#.#......#.........','.....#........##..#.....####.#.','.#.....#........#.......#..##..','......#...#....#.##...#.......#','..##..................#..#.....','.....###.#..##...#.............','...##...##...#......#....#....#','#........#.#..........##..#....','#........#....#..........#...#.','...##.#.##..#...##......#......','#........##....#.#..##.....#..#','...####......#..#......#.#.....','.#......#...#...#.#.....##....#','.....###..##..#...#..........##','##.##....#...#.................','...##.#.......#.###......#..#..','.....#.#.#.......#.......#..#.#','#...#...#.##..#....###.......#.','.#.#..##.....#....#...##.......','.....#..........#....#...#.##..','..........#....#...#...........','.#....#..#...#...#.......#....#','#..#..............#.....####.##','.......#....###....#....#.#.#..','###.#........##.#.......#......','#..#...#..#......#.............','#...###..#...#..#..##.#.###.#..','..#..#...##......##............','.#..#.......#..###..##...#.....','....#..#..##.#.#.....##...#.#.#','....#....#.....#..#....#.......','..##..#....#.#...##..#.........','.....#....#...........#.#......','...#........#.#..#..#......#..#','.#...##....#....#.#.##......#.#','..#...........#..###.##.....#..','.#.######.#..##.......#..#.....','.....#..#......##.#.#...#......','....#....#..#.....#.......#.#.#','.....#........##.....#.....#.##','........#....#...#...#.#.#...#.','...#.#.....#...........#.....#.','#.#.#...###......#.....#.....#.','.#..........#.....#.......##...','#................#.#.....#.####','.#......#......#.#..##.#.##....','..........#....#...........###.','.##....#..####..#####..........','##.......##............#.....#.','...#.....#...#....#.......#....','.#....##......#.#...#....#.....','....#............##..........#.','.#....#....#.....#.#...........','.............##.#.##...#.#.#...','..#............#.#..##.#....##.','#.....#...##..........#.#.#...#','......#............#..........#','..##..#.....#........#.##..#..#','#..#.#..##.#.....##.#..........','#..#...#.#..#......##.......##.','.##......#...........##.....#..','...#.....#.....#..#....#.......','.....#...............#........#','.......#.....##..#..##..#.#.#..','#.#.....#..#..........##...#...','#..#......#.................#.#','.##...#....#...#...#.......#...','.#........##........#..........','........#..........#.........#.','.....#.##..#.......#........#..','..##..#..#...##..#.#....#......','......#........#.##.....#.#....','.#...#.#.........#..#.#.#.#..#.','.#..#.#...#............#.#..#..','....#.................#...#..##','.........##.....#.#.#......####','...............#....##.#.#.....','....##..#....#......#....#.....','....##.#...#....#.#..#...#..#..','..##......#.#..#........#.#.#..','.........#.#................##.','##.....#.....##..##.#........#.','###....#..#..#..#..#.##..##.#..','.....##..#...........##..#.#...','....#..#..#..#....#...#.#....#.','#....#............#..#....###..','....#..#.............#....##.#.','...#.................#...#.....','.##...#....#..#..#........#....','...#.#..#...#.#......#....#....','...#.......##..........#...#.#.','...##..#.......#........#...#..','.....#.#.#....#..##......##...#','....##......#........##....##..','..#..........#.#.##.....#......','..................#..#..#..###.','.#..............#.#..#.#..#.###','..#....#....#......#..##..#...#','#.........#..#..#...........#..'];

        var runs = [{ right: 1, down : 1},
                    { right: 3, down : 1},
                    { right: 5, down : 1},
                    { right: 7, down : 1},
                    { right: 1, down : 2}];

        var xpos = 3;
        var hittree = 0;

        var sum = 0;

        console.log(`len ${treemap.length}`);

        // 280

        function findHitTrees() {

            for (y = 1; y < treemap.length; y++) {

                if (treemap[y][xpos] === '#') {
                    console.log(`line ${y} pos = ${xpos}`);
                    hittree++;
                   
                    console.log(`${treemap[y]}`);
                    console.log(`${new Array(xpos).join(' ')}^`);
                }
                
                /*xpos +=3;
                if (xpos > treemap[y].length) {
                    xpos = xpos - treemap[y].length;
                    //xpos = xpos - 31;
                }*/

                if (xpos + 3 > treemap[y].length -1) {
                    xpos = (xpos + 3) - treemap[y].length;
                } else {
                    xpos = xpos + 3;
                }

            }

            document.getElementById("hittrees").innerHTML = `hittrees = ${hittree}`;
        }

        // 4355551200

        function findHitTreesPart2() {

            hittree = 0;
            sum = 0;

            for (x = 0; x < runs.length; x++) {

                var xpos = runs[x].right;

                for (y = runs[x].down; y < treemap.length; y+= runs[x].down) {

                    if (treemap[y][xpos] === '#') {
                        
                        hittree++;
                    
                        //console.log(`line ${y} pos = ${xpos}  hit tree ${hittree}`);

                        //console.log(`${treemap[y]}`);
                        //console.log(`${new Array(xpos +1).join(' ')}^`);
                    }

                    if (xpos + runs[x].right > treemap[y].length -1) {
                        xpos = (xpos + runs[x].right) - treemap[y].length;
                    } else {
                        xpos = xpos + runs[x].right;
                    }

                }

                console.log(`Hittrees *** ${hittree}`);
                
                if (sum !== 0) {
                    sum = sum * hittree;
                }
                else {
                    sum = hittree;
                }
                var hittree = 0;

            }

            document.getElementById("hittrees2").innerHTML = `hittrees total = ${sum}`;
            
        }

    </script>
</head>
<body>
    <p id="hittrees"></p>
    <p id="hittrees2"></p>
    <button type="button" onclick="findHitTrees()">Go</button>
    <button type="button" onclick="findHitTreesPart2()">Go 2</button>
</body>
</html>